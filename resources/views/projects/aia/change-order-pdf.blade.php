<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>{{ @$project->name }} </TITLE>
<META name="generator" content="BCL easyConverter SDK 5.0.252">
<STYLE type="text/css">

body {margin-top: 0px;margin-left: 0px;}

#page_1 {    
    position: relative;
    margin: -15px auto;
    padding: 0px;
    border: none;
    width: 1056px;
    height: 731px;
  }

#page_1 #id1_1 {
    float: left;
    border: none;
    padding: 0px;
    border: none;
    width: 641px;
    overflow: hidden;
  }

#page_1 #id1_2 {    
    margin: 230px 0px 0px;
    padding: 0px;
    border: none;
    overflow: hidden;
  }

.dclr {clear:both;float:none;height:1px;margin:0px;padding:0px;overflow:hidden;}

.ft0{font: bold 23px 'Arial';line-height: 27px;}
.ft1{font: 15px 'Arial';line-height: 17px;}
.ft2{font: bold 20px 'Arial';line-height: 24px;}
.ft3{font: 18px 'Arial';line-height: 23px;}
.ft4{font: 18px 'Arial';line-height: 22px;}
.ft5{font: 1px 'Arial';line-height: 1px;}
.ft6{font: bold 24px 'Arial';line-height: 29px;}
.ft7{font: 13px 'Arial';line-height: 16px;}
.ft8{font: 12px 'Arial';line-height: 15px;}
.ft9{font: 11px 'Arial';line-height: 14px;}
.ft10{font: 1px 'Arial';line-height: 15px;}
.ft11{font: 13px 'Arial';line-height: 15px;}
.ft12{font: 1px 'Arial';line-height: 7px;}
.ft13{font: 1px 'Arial';line-height: 8px;}
.ft14{font: 1px 'Arial';line-height: 9px;}
.ft15{font: bold 12px 'Arial';line-height: 15px;}
.ft23{font: bold 12px 'Arial';line-height: 15px;}
.ft21{font: bold 12px 'Arial';line-height: 15px;}

.p0{text-align: right;padding-right: 110px;margin-top: 0px;margin-bottom: 0px;}
.p1{text-align: left;padding-left: 20px;margin-top: 10px;margin-bottom: 0px;}
.p2{text-align: left;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p3{text-align: left;padding-left: 7px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p4{text-align: left;padding-left: 4px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p5{text-align: center;padding-right: 2px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p6{text-align: left;padding-left: 29px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p7{text-align: center;padding-right: 13px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p8{text-align: center;padding-right: 18px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p9{text-align: center;padding-right: 16px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p10{text-align: left;padding-left: 60px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p11{text-align: center;padding-right: 4px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p12{text-align: center;padding-right: 1px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p13{text-align: left;padding-left: 35px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p14{text-align: center;padding-right: ;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p15{text-align: center;padding-right: 12px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p16{text-align: center;padding-right: 17px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p17{text-align: center;padding-right: 10px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p18{text-align: center;padding-left: 3px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p19{text-align: center;padding-right: 14px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p20{text-align: center;padding-right: 43px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p21{text-align: left;padding-left: 20px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}
.p22{text-align: left;padding-left: 27px;margin-top: 0px;margin-bottom: 0px;white-space: nowrap;}

.td0{padding: 0px;margin: 0px;width: 200px;vertical-align: bottom;}
.td1{padding: 0px;margin: 0px;width: 175px;vertical-align: bottom;}
.td2{padding: 0px;margin: 0px;width: 332px;}
.td3{padding: 0px;margin: 0px;width: 222px;vertical-align: bottom;}
.td4{padding: 0px;margin: 0px;width: 43px;vertical-align: middle;}
.td5{padding: 0px;margin: 0px;width: 194px;vertical-align: middle;}
.td6{padding: 0px;margin: 0px;width: 103px;vertical-align: middle;}
.td7{padding: 0px;margin: 0px;width: 104px;vertical-align: middle;}
.td8{padding: 0px;margin: 0px;width: 96px;vertical-align: middle;}
.td9{padding: 0px;margin: 0px;width: 97px;vertical-align: middle;}
.td10{padding: 0px;margin: 0px;width: 91px;vertical-align: middle;}
.td11{padding: 0px;margin: 0px;width: 56px;vertical-align: middle;}
.td12{padding: 0px;margin: 0px;width: 95px;vertical-align: middle;}
.td13{padding: 0px;margin: 0px;width: 200px;vertical-align: middle;}
.td14{padding: 0px;margin: 0px;width: 497px;vertical-align: middle;}
.td22{padding: 0px;margin: 0px;width: 196px;vertical-align: bottom;}
.td23{padding: 0px;margin: 0px;width: 165px;vertical-align: bottom;}

.tr0{height: 30px;}
.tr1{height: 24px;}
.tr2{height: 26px;}
.tr3{height: 34px;}

.tr4{height: 23px;}
.tr5{height: 22px;}
.tr6{height: 15px;}
.tr7{height: 7px;}
.tr8{height: 8px;}
.tr9{height: 16px;}
.tr10{height: 17px;}
.tr11{height: 9px;}
.tr12{height: 24px;}
.tr13{height: 24px;}
.tr14{height: 62px;}
.tr15{height: 25px;}
.tr18{height: 20px;}
.tr19{height: 30px;background: #ededed;}
.tr20{height: 31px;}
.tr-grey{
  background: #ededed;
}

.t0{
  width:  590px;
  margin-left: -1px;
  margin-top: 10px;
  font: bold 20px 'Arial';
  border: 4px solid #17aecf;
}

/*.t1{
  width: 550px;
  margin-left: 1px;
  margin-top: -7px;
  font: 16px 'Arial';
}

.t2{width: 430px;font: 13px 'Arial';}
*/
.t3{font: 16px 'Arial';}

.left1{
  border: 4px solid #17aecf;
  width: 580px;
  padding: 10px 0px;
  position: relative;
}

.right1{
    float: left;
    border: 4px solid #17aecf;
    width: 350px;
    padding-left: 10px;
    margin-bottom: 12px;
}

.table1 td{
    padding: 0px 5px;
}

.table2 td.bwr{
    border: 2px solid;
    border-right: none;
}

.table2 td.bwl{
    border: 2px solid;
    border-left: none;
}

.table2 td.btb{
    border: 2px solid;
    border-left: none;
    border-right: none;
}

.table2 td.bl{
    border-left:2px solid;
}

.table2 td.blt{
    border-left:2px solid;
     border-top:2px solid;
}
.table2 td.blb{
    border-left:2px solid;
    border-bottom:2px solid;
}

.table2 td.br{
    border-right:2px solid;
}

.table2 td.brt{
    border-right:2px solid;
    border-top:2px solid;
}

.table2 td.brl{
    border-right:2px solid;
    border-bottom:2px solid;
}    

.table2 td.bt{
    border-top:2px solid;
}
.table2 td.bb{
    border-bottom:2px solid;
}
.table2 tr{
  width: 400px;
}

.left1 img{
  width: 120px;
  position: absolute;
  /*height: 40px;*/
  top: 5px;
  left: 20px;
}
.left1 .ft1{
  font-size: 12px;
}


footer {
  position: fixed; 
  bottom:0px;
  text-align: right;
  font-size: 12px;
}

header {
    position: fixed;
    top: 0px;
    left: 0px;
    right: 0px;
    height: 50px;
    text-align: center;
    line-height: 35px;
    /*display: none;*/
}

.pagenum:before {
      content: counter(page);
}
.lb{
    border-left: 1px solid !important;
}

.lrb{
    border-left: 1px solid !important;
    border-right: 1px solid !important;
}

.lr{
    border-right: 1px solid !important;
}
.bb{
    border-bottom: 1px solid !important;
}
.pbb{
    padding-top: 7px;
    border-bottom: 1px solid !important;

}
.pbb span{
    margin-bottom: 7px;
    display: inline-block;
    margin-left: 25px;
}
.pbb2{
    padding-top: 7px;
    border-bottom: 1px solid !important;
}
.pbb2 span{
    margin-bottom: 7px;
    display: inline-block;
    margin-left: 25px;
}
.bub{
    border-bottom: 1px solid !important;
    border-top: 1px solid !important;
}
.brn{
    border-right: none !important;
}

.blrn{
    border-left: 1px solid !important;
    border-right: none !important;
}

.t3 td.tr4{
border: 1px solid;
border-bottom: none;
border-left: none;
}

.t4 td.tr19{
border: 1px solid;
border-bottom: none;
border-left: none;
}
.t4 td.tr20{
border: 1px solid;
border-bottom: none;
border-left: none;
}
.t3 td.tr5{
border: 1px solid;
border-bottom: none;
border-left: none;
}
.t3 td.tr1{border-top: 1px solid;
border-right: 1px solid;
}

.t3 td.tr13{
border-top: 1px solid;
border-right: 1px solid;
}

.star{
  color: red;
}

p.p23 {
    padding-left: 6px;
    margin-top: 0px;
    line-height: 8px;
}

p.p24 {
    padding-left: 6px;
    margin-top: 0px;
    line-height: 8px;
    margin-bottom: 10px;
    width: 200px;
}
p.p32  {
    padding-right: 6px;
    margin-top: 0px;
    line-height: 8px;
    margin-bottom: 0px;
    text-align: right;
}

.t4{width: 470px;font: 13px 'Arial';margin-top: 20px;}
.t5{width: 351px;font: 20px 'Arial';}

.ft-red{
  color: red;
}
.ft-green{
  color: green;
}
.legend{
    float: left;
    border: 1px solid;
    color: green;
    text-align: left;
    padding: 5px;
    margin-top: 100px;
}

.legend .p7{
    text-align: left;
}
.legend .p7:first-child{
    font-weight: bold;
}
</STYLE>
</HEAD>

<BODY>

  <footer>
      Page <span class="pagenum"></span>
  </footer>

  <header> 
      <div style="float: left; width: 63%; margin-bottom: 10px;">
      <div class="left1">
        <img src="data:image/jpg;base64,{{ base64_encode(file_get_contents(public_path('img/invoice-logo.jpg'))) }}">
         <P class="p0 ft0 ft-red">Change Orders</P>
         <P class="p1 ft1"> QPMCONSTRUCTION </P>

      </div>

       <TABLE cellpadding=0 cellspacing=0 class="t0 table1">
        <TR>
          <TD class="tr0 td0"><P class="p2 ft2">Project Name</P></TD>
          <TD class="tr0 td1"><P class="p2 ft3">{{ @$project->name }}</P></TD>
        </TR>
        <TR>
          <TD class="tr1 td0"><P class="p2 ft2">Project #</P></TD>
          <TD class="tr1 td1"><P class="p2 ft4">{{ @$project->project_number }}</P></TD>
        </TR>
        <TR>
          <TD class="tr2 td0" style="padding-bottom:5px;"><P class="p2 ft2">Owner Name</P></TD>
          <TD class="tr2 td1" style="padding-bottom:5px;"><P class="p2 ft3">
            {{ @$project->owner_name }}</P></TD>
        </TR>
        </TABLE>
    </div>
    <div style="float: left; width: 27%; margin-bottom: 10px;">
    <div class="right1">
      <TABLE cellpadding=0 cellspacing=0 class="t2">
      <TR>
        <TD class="tr0 td22"><P class="p2 ft2">Application #</P></TD>
        <TD class="tr0 td23"><P class="p8 ft3" style="text-align:left;">{{ @$applicationsCount }}</P></TD>
      </TR>
      <TR>
        <TD class="tr10 td22"><P class="p2 ft2">Application Date</P></TD>
        <TD class="tr10 td23"><P class="p8 ft3" style="text-align:left;">{{ \Carbon\Carbon::parse(@$application->application_date)->format('m/d/Y')}}</P></TD>
      </TR>
      <TR>
        <TD class="tr12 td22"><P class="p2 ft2">Period To</P></TD>
        <TD class="tr12 td23"><P class="p8 ft3" style="text-align:left;">{{ \Carbon\Carbon::parse(@$application->period_to)->format('m/d/Y')}}</P></TD>
      </TR>
      </TABLE>

    </div>

     <div class="legend">
      <P class="p7 ft11">Type Legend</P>
      <P class="p7 ft11">A = Addition</P>
      <P class="p7 ft11">R = Revised +/-</P>
     </div>
    </div>

</header>

<DIV id="page_1">

<div>

<!-- <div class="id1_1">
  
</div> -->

<DIV id="id1_2">

<TABLE cellpadding=0 cellspacing=0 class="t3">

<TR>
  <TD class="lb tr4 td4 tr-grey"><P class="p5 ft7"> </P></TD>
  <TD class="tr4 td4 tr-grey"><P class="p5 ft7 ft-red"> CO #</P></TD>
  <TD class="tr4 td5 tr-grey"><P class="p6 ft8 ft-red">CHANGE 
  ORDERS</P></TD>
  <TD class="tr4 td6 tr-grey"><P class="p5 ft7 ft-red">CHANGE 
  </P></TD>
  <TD class="tr4 td7 tr-grey"><P class="p7 ft7 ft-red"> &nbsp;</P></TD>
  <TD class="tr4 td8 tr-grey"><P class="p8 ft8 ft-red">CHANGE 
  </P></TD>
  <TD class="tr4 td9 tr-grey"><P class="p9 ft8 ft-red"></P></TD>
  <TD class="tr4 td10 tr-grey"><P class="p9 ft7 ft-red">CHANGE
   </P></TD>
  <TD class="tr4 td11 tr-grey"><P class="p2 ft6 ft-red">&nbsp;</P></TD>
  <TD class="tr4 td10 tr-grey"><P class="p7 ft7 ft-red">CHANGE 
  </P></TD>
  <TD class="tr4 td12 tr-grey"><P class="p11 ft7 ft-red">CHANGE 
  </P></TD>
</TR>

<TR>
  <TD class="lrb tr-grey"><P class="p5 ft7"> </P></TD>
  <TD class="lr tr-grey"><P class="p5 ft7"> </P></TD>
  <TD class="lr tr-grey"><P class="p6 ft8 ft-red"></P></TD>
  <TD class="lr tr-grey"><P class="p5 ft7 ft-red">ORDERS 
  </P></TD>
  <TD class="lr tr-grey"><P class="p7 ft7 ft-red"> &nbsp;</P></TD>
  <TD class="lr tr-grey"><P class="p8 ft8 ft-red">ORDERS 
  </P></TD>
  <TD class="lr tr-grey"><P class="p9 ft8 ft-red"></P></TD>
  <TD class="lr tr-grey"><P class="p9 ft7 ft-red">ORDERS
   </P></TD>
  <TD class="lr tr-grey"><P class="p2 ft6 ft-red">&nbsp;</P></TD>
  <TD class="lr tr-grey"><P class="p7 ft7 ft-red">ORDERS 
  </P></TD>
  <TD class="lr tr-grey"><P class="p11 ft7 ft-red">ORDERS 
  </P></TD>
</TR>


<TR>
  <TD class="lb tr4 td4"><P class="p5 ft7"></P></TD>
  <TD class="tr5 td11"><P class="p5 ft7">A</P></TD>
  <TD class="tr4 td5"><P class="p6 ft8">B</P></TD>
  <TD class="tr4 td6"><P class="p5 ft7">C</P></TD>
  <TD class="tr4 td7"><P class="p7 ft7">D</P></TD>
  <TD class="tr4 td8"><P class="p8 ft8">E</P></TD>
  <TD class="tr4 td9"><P class="p9 ft8">F</P></TD>
  <TD class="tr4 td10"><P class="p10 ft7">G</P></TD>
  <TD class="tr4 td11"><P class="p2 ft6">&nbsp;</P></TD>
  <TD class="tr4 td10"><P class="p7 ft7">H</P></TD>
  <TD class="tr4 td12"><P class="p11 ft7">I</P></TD>
</TR>
<TR>
  <TD class="lb tr5 td4"><P class="p12 ft7 ft-green">TYPE</P></TD>
  <TD class="tr5 td11"><P class="p12 ft7">ITEM #</P></TD>
  <TD class="tr5 td5"><P class="p6 ft8">DESCRIPTION OF WORK</P></TD>
  <TD class="tr5 td6"><P class="p5 ft9">SCHEDULED</P></TD>
  <TD colspan=2 class="tr5 td13"><P class="p13 ft7">WORK COMPLETED</P></TD>
  <TD class="tr5 td9"><P class="p9 ft8">MATERIALS</P></TD>
  <TD class="tr5 td10"><P class="p14 ft7">TOTAL</P></TD>
  <TD class="tr5 td11"><P class="p15 ft9">%</P></TD>
  <TD class="tr5 td10"><P class="p15 ft8">BALANCE TO</P></TD>
  <TD class="tr5 td12"><P class="p11 ft8">RETAINAGE</P></TD>
</TR>
<TR>
  <TD class="lrb tr6 td4"><P class="p2 ft10">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft10">&nbsp;</P></TD>
  <TD class="lr tr6 td5"><P class="p2 ft10">&nbsp;</P></TD>
  <TD class="lr tr6 td6"><P class="p5 ft8">VALUE</P></TD>
  <TD rowspan=2 class="lr tr5 td7"><P class="p7 ft8">FROM</P></TD>
  <TD rowspan=2 class="lr tr5 td8"><P class="p8 ft8">THIS PERIOD</P></TD>
  <TD class="lr tr6 td9"><P class="p16 ft9">PRESENTLY</P></TD>
  <TD class="lr tr6 td10"><P class="p17 ft8">COMPLETED</P></TD>
  <TD class="lr tr6 td11"><P class="p18 ft11">(G / C)</P></TD>
  <TD class="lr tr6 td10"><P class="p7 ft11">FINISH</P></TD>
  <TD class="lr tr6 td12"><P class="p11 ft11">(G x Retainage)</P></TD>
</TR>
<TR>
  <TD class="lrb tr7 td4"><P class="p2 ft12">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft12">&nbsp;</P></TD>
  <TD class="lr tr7 td5"><P class="p2 ft12">&nbsp;</P></TD>
  <TD class="lr tr7 td6"><P class="p2 ft12">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr6 td9"><P class="p9 ft9">STORED</P></TD>
  <TD rowspan=2 class="lr tr6 td10"><P class="p17 ft8">AND STORED</P></TD>
  <TD class="lr tr7 td11"><P class="p2 ft12">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr6 td10"><P class="p15 ft8">EXCLUDING</P></TD>
  <TD class="lr tr7 td12"><P class="p2 ft12">&nbsp;</P></TD>
</TR>
<TR>
  <TD class="lrb tr8 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td5"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr9 td7"><P class="p19 ft8">PREVIOUS</P></TD>
  <TD class="lr tr8 td8"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td11"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td12"><P class="p2 ft13">&nbsp;</P></TD>
</TR>
<TR>
  <TD class="lrb tr8 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td8"><P class="p2 ft13">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr9 td9"><P class="p9 ft7">(not in D or E)</P></TD>
  <TD rowspan=2 class="lr tr9 td10"><P class="p17 ft8">TO DATE</P></TD>
  <TD class="lr tr8 td11"><P class="p2 ft13">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr9 td10"><P class="p7 ft8">RETAINAGE</P></TD>
  <TD class="lr tr8 td12"><P class="p2 ft13">&nbsp;</P></TD>
</TR>
<TR>
  <TD class="lrb tr8 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td5"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr9 td7"><P class="p7 ft8">APPLICATIONS</P></TD>
  <TD class="lr tr8 td8"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td11"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td12"><P class="p2 ft13">&nbsp;</P></TD>
</TR>
<TR>
  <TD class="lrb tr8 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td8"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td9"><P class="p2 ft13">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr10 td10"><P class="p17 ft8">(D + E + F)</P></TD>
  <TD class="lr tr8 td11"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td10"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td12"><P class="p2 ft13">&nbsp;</P></TD>
</TR>
<TR>
  <TD class="lrb tr11 td4"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr11 td6"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr11 td6"><P class="p2 ft14">&nbsp;</P></TD>
  <TD rowspan=2 class="lr tr10 td7"><P class="p7 ft8">Column (D & E)</P></TD>
  <TD class="lr tr11 td8"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr11 td9"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr11 td11"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr11 td10"><P class="p2 ft14">&nbsp;</P></TD>
  <TD class="lr tr11 td12"><P class="p2 ft14">&nbsp;</P></TD>
</TR>
<TR>
  <TD class="lrb tr8 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr6 td4"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td5"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td6"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td8"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td9"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td10"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td11"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td10"><P class="p2 ft13">&nbsp;</P></TD>
  <TD class="lr tr8 td12"><P class="p2 ft13">&nbsp;</P></TD>
</TR>

@php

 $changeOrderApplications = $project->changeOrderApplications()
                            ->where('app','<=',$applicationsCount)
                            ->orderBy('account_number')
                            ->get();      

@endphp

@php
 $codTotal = $coeTotal = $cofTotal = $cogTotal = $cohTotal = $coiTotal = 0;
 $cTotal = $dTotal = $eTotal = $fTotal = $gTotal = $hTotal = $iTotal = 0;
 $nmTotal = $pbTotal = 0;
 $conmTotal = $copbTotal = 0;
 $total_percentage = 0;
 $co_less_retainage = 0;
@endphp

@foreach(@$changeOrderApplications as $key => $line)

@php 
$changeOrderlines = $line->application_lines()
                            ->where('app_no',$applicationsCount)->get();                          
$cTotal = $cTotal + @$line->value;
$dsTotal = $esTotal = $fsTotal = $gsTotal = $hsTotal = $isTotal = $nmTotal = $pbTotal = 0;
foreach (@$changeOrderlines as $k => $cLine) {
       $total = $cLine->billed_to_date + $cLine->work_completed + $cLine->stored_to_date +  $cLine->materials_stored;

      $dTotal = $dTotal + $cLine->billed_to_date;
      $dsTotal = $dsTotal + $cLine->billed_to_date;

      $eTotal = $eTotal + $cLine->work_completed;
      $esTotal = $esTotal + $cLine->work_completed;

      $fTotal = $fTotal + $cLine->materials_stored + $cLine->stored_to_date;
      $fsTotal = $fsTotal + $cLine->materials_stored + $cLine->stored_to_date;

      $gTotal = $gTotal + $total;
      $gsTotal = $gsTotal + $total;

      $exclude_retainage =  $line->value - (float) $total;
      $hTotal = $hTotal + $exclude_retainage;
      $hsTotal = $hsTotal + $exclude_retainage;
      
      $retainage =  $line->retainage;
      $retainage_value =  ($total * $retainage/100);

      $iTotal = $iTotal + $retainage_value;
      $isTotal = $isTotal + $retainage_value;

       if($cLine->materials_stored > 0){
         $nmTotal = $nmTotal + $cLine->materials_stored;
       }
       else
       {
         $pbTotal = $pbTotal + $cLine->materials_stored;
       }


 }

@endphp

<TR>
  <TD class="lb tr1 td4"><P class="p5 ft7 ft-green"> {{ ($line->revised == 1) ? 'R+' : 'A' }} </P></TD>
  <TD class="tr5 td11"><P class="p5 ft7">{{ @$line->account_number}}</P></TD>
  <TD class="tr1 td5"><P class="p6 ft7">{{ $line->description }}
  </P>
   
   @if(@$nmTotal || $pbTotal)
       <p class="p23 ft9">
       <br> <span class='star'>*</span>

       @if(@$pbTotal)
       ${{ \App\Models\Payment::format(abs(@$pbTotal)) }}
       materials used, previously billed
       @else
        ${{ \App\Models\Payment::format(@$nmTotal) }}
       new materials stored
       @endif

       </p>
   @endif
 
</TD>
  <TD class="tr1 td6"><P class="p5 ft7">${{ \App\Models\Payment::format(@$line->value) }}</P></TD>
  <TD class="tr1 td7"><P class="p15 ft7">${{ \App\Models\Payment::format(@$dsTotal) }}</P></TD>
  <TD class="tr1 td8"><P class="p16 ft7">{!! (@$esTotal) ? '<span class="star">*</span>' : '' !!}${{ \App\Models\Payment::format(@$esTotal) }}</P></TD>
  <TD class="tr1 td9"><P class="p16 ft7">{!! (@$fsTotal) ? '<span class="star">*</span>' : '' !!} ${{ ($fsTotal > 0 ) ? \App\Models\Payment::format(@$fsTotal) : \App\Models\Payment::format(0.00) }}</P></TD>
  <TD class="tr1 td10"><P class="p17 ft7">${{ \App\Models\Payment::format(@$gsTotal) }}</P></TD>
  <TD class="tr1 td11"><P class="p14 ft8">{{ number_format(@$gsTotal / $line->value*100 , 1)   }}%</P></TD>
  <TD class="tr1 td10"><P class="p15 ft7">${{ \App\Models\Payment::format(@$hsTotal) }}</P></TD>
  <TD class="tr1 td12"><P class="p11 ft7">${{ \App\Models\Payment::format(@$isTotal) }}</P></TD>
</TR>

@endforeach

<TR>
  <TD class="lb bb  tr1 td4 tr-grey"><P class="p2 ft6">&nbsp;</P></TD>
  <TD class="bb brn tr1 td4 tr-grey"><P class="p2 ft6">&nbsp;</P></TD>
  <TD class="bb tr1 td4 tr-grey"><P class="p20 ft15">CHANGE ORDERS TOTALS </P></TD>
  <TD class="bb tr1 td6 tr-grey"><P class="p5 ft7">${{ \App\Models\Payment::format(@$cTotal ) }}</P></TD>
  <TD class="bb tr1 td7 tr-grey"><P class="p15 ft7">${{ \App\Models\Payment::format($dTotal) }}</P></TD>
  <TD class="bb tr1 td8 tr-grey"><P class="p8 ft7">${{\App\Models\Payment::format($eTotal)}}</P></TD>
  <TD class="bb tr1 td9 tr-grey"><P class="p16 ft7">${{ ($fTotal > 0) ?  \App\Models\Payment::format($fTotal) : \App\Models\Payment::format(0)}}</P></TD>
  <TD class="bb tr1 td10 tr-grey"><P class="p17 ft7">${{\App\Models\Payment::format($gTotal)}}</P></TD>
  <TD class="bb tr1 td11 tr-grey"><P class="p14 ft8">{{ number_format(($gTotal/ @$cTotal*100), 1) }}%</P></TD>
  <TD class="bb tr1 td10 tr-grey"><P class="p7 ft7">${{\App\Models\Payment::format($hTotal)}}</P></TD>
  <TD class="tr1 td12 tr-grey"><P class="p11 ft7 pbb"><span>${{\App\Models\Payment::format($iTotal)}}</span></P></TD>
</TR>








</TABLE>



</DIV>

</DIV>
</DIV>


</BODY>
</HTML>
